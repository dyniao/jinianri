/*
* @name 纪念日 jnr
* @site www.dyniao.com
* @version 2.1
* @author dyniao
*/
;(function(d){d.fn.jnr=function(a){var h=["&#9829; \u6211\u4eec\u76f8\u9022\u5728 {t} \uff0c\u76f8\u9047 {d} \u5929\uff0c\u76f8\u8bc6 {h} \u5c0f\u65f6\uff0c\u76f8\u77e5 {m} \u5206\u949f\uff0c\u76f8\u7231 {s} \u79d2 &#9829;","&#9829; \u81ea\u4ece {t} \u6211\u4eec\u76f8\u7231\u4e86 {d} \u5929 {h} \u5c0f\u65f6 {m} \u5206\u949f {s} \u79d2 &#9829;","\u8ddd\u79bb {t} \u8fd8\u6709 {d} \u5929 {h} \u5c0f\u65f6 {m} \u5206\u949f {s} \u79d2"],c=new Date(a.mydatetime),e=new Date;a.model=e>c?a.model:2;a=d.extend({},{mydatetime:new Date,model:0,language:{e:"\u8bbe\u7f6e\u4e86\u6a21\u677f\uff0c\u4f46\u662f\u6ca1\u6709\u586b\u5199\u5185\u5bb9",u:"\u9519\u8bef\u5143\u7d20",o:"\u5012\u8ba1\u65f6\u7ed3\u675f",t:"\u8d85\u51fa\u6a21\u677f\u8303\u56f4\u4e86"},format:"yyyy\u5e74MM\u6708dd\u65e5",template:h[a.model]},a);this.each(function(){var k=d(this);k.html("loading ...");setInterval(function(){e=new Date;var b=e>c?e-c:c-e,d,f,g,m=a.model<h.length?e>c&&2==a.model?a.language.o:""==a.template?a.language.e:a.template:a.language.t;a.model?(d=Math.floor(b/864E5),f=Math.floor(b%864E5/36E5),g=Math.floor(b%864E5%36E5/6E4),b=Math.round(b%864E5%36E5%6E4/1E3)):(d=Math.floor(b/1E3/3600/24),f=Math.floor(b/1E3/3600),g=Math.floor(b/1E3/60),b=Math.floor(b/1E3));var l={d:d,h:f,m:g,s:b,t:(new Date(c)).Format(a.format)};k.html(m.replace(/{(\w+)}/g,function(c,b){return void 0!=l[b]?l[b]:" "+a.language.u+c+" "}))},1E3)})};Date.prototype.Format=function(a){var d={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in d)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?d[c]:("00"+d[c]).substr((""+d[c]).length)));return a}})(jQuery);